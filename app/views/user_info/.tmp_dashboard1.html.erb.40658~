<div class="container" data-ng-controller="recipeController">
    <br>
    <%if @recipes_info.length>=1 %>
    <span align="left" style="font-family:'Brush Script MT' ; text-decoration:underline; font-size:36px !important;"><strong>My Recipes</strong></span>
    <br>
    <%@recipes_info.each_with_index do |recipe,i| %>
    <br><%if recipe.publish_status=="Published"%>
    <span style="font-style=bold;font-family:Rockwell;font-size:27px;color:green;"><%=recipe.recipe_name %></span>
	<%else%>
	<span style="font-style=bold;font-family:Rockwell;font-size:25px;"><%=recipe.recipe_name %></span>
	<%end%>
    &nbsp; &nbsp; <a style="cursor:pointer;" id="showdetails<%=i%>" onclick="showHideDetails(<%=i%>)">Show Details</a>
    <!--<div ng-show="showHideFlag">-->
    <br>
    <p style="display:none;" id="details<%=i%>">
        <span style="font-family:'Brush Script MT' ;font-size:26px !important;">Ingredients</span>
        <br>
        <%if recipe.ingredient1!=nil %>
        <%=recipe.ingredient1.split("|")[0] %>--<%=recipe.ingredient1.split("|")[1] %>
        ,<%end %>
        <%if recipe.ingredient2!=nil %>
        <%=recipe.ingredient2.split("|")[0] %>--<%=recipe.ingredient2.split("|")[1] %>
        ,<%end %>
        <%if recipe.ingredient3!=nil && recipe.ingredient3!="" && recipe.ingredient3.length>0 %>
        <%=recipe.ingredient3.split("|")[0] %>--<%=recipe.ingredient3.split("|")[1] %>
        ,<%end %>
        <%if recipe.ingredient4!=nil && recipe.ingredient4!="" && recipe.ingredient4.length>0 %>
        <%=recipe.ingredient4.split("|")[0] %>--<%=recipe.ingredient4.split("|")[1] %>
        ,<%end %>
        <%if recipe.ingredient5!=nil %>
        <%=recipe.ingredient5.split("|")[0] %>--<%=recipe.ingredient5.split("|")[1] %>
        ,<%end %>
        <%if recipe.ingredient6!=nil %>
        <%=recipe.ingredient6.split("|")[0] %>--<%=recipe.ingredient6.split("|")[1] %>
        ,<%end %>
        <%if recipe.ingredient7!=nil %>
        <%=recipe.ingredient7.split("|")[0] %>--<%=recipe.ingredient7.split("|")[1] %>
        <% end %><%if recipe.steps!=nil%><br><br>
		<span style="font-family:'Brush Script MT' ;font-size:24px !important;">Steps to prepare</span><br>
		<%=recipe.steps%><%end%>
    </p>
    <!-- </div>--><%end end %>
    <br>
    <div>
        <button id="addrecipe" class="btn btn-primary" type="button" ng-click="ShowHide()">
            <span ng-bind="buttonText"></span>
        </button>
    </div>
    <div ng-show="IsVisible">
        <br>
        <strong>Recipe Name:</strong>
        &nbsp; <input type="text" ng-model="recipe_name" placeholder="Enter Recipe Name"/>
        <br>
        <div ng-repeat="item in items track by $index">
            <div class="row" ng-if="$index<7">
                <div class="span3">
                    Ingredient 
                    <br/>
                    <input type="text" placeholder="Add Ingredient" ng-model="item.ingredient"/>
                </div>
                <div class="span3" id="Quantity">
                    Quantity 
                    <br/>
                    <input type="text" placeholder="Enter Quantity" ng-model="item.quantity" />
                </div>
            </div>
        </div><br><span ng-if="i>=1">Steps to Prepare<br/><textarea  data-ng-model="items.stepstoprepare" placeholder="Steps to Prepare">Steps to Prepare</textarea></span><br>
        <button class="btn btn-primary" data-ng-disabled="(!recipe_name)" ng-click="add()">
            Add Recipe Details
        </button>&nbsp; &nbsp;
        <button ng-if="i>=1"id="submitCustomer" class="btn btn-primary" type="button" ng-click="addrecipe(<%=@id%>)">
            Save Recipe
        </button>
    </div>
</div>
